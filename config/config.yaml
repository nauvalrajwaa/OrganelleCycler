# =============================================================================
# CONFIGURATION FILE FOR ORGANELLE ASSEMBLY PIPELINE
# Version: 2.0 (Smart Switch Mode)
# Author: Nauval Rajwaa
# =============================================================================

# -----------------------------------------------------------------------------
# [BAGIAN 1] PENGATURAN SISTEM & GLOBAL
# -----------------------------------------------------------------------------
threads: 48
email: "nauvalrajwaa@gmail.com"  # Wajib ada agar NCBI tidak memblokir IP saat download
samples_file: "config/samples.tsv" 

# =============================================================================
# [PENTING] MODE SAKLAR UTAMA (GLOBAL SWITCH)
# =============================================================================
# Ubah nilai di bawah ini untuk menentukan target assembly Anda.
# Pilihan: 
#   - "PLASTOME" : Merakit Kloroplas (Mitokondria jadi blacklist/dibuang)
#   - "MITOME"   : Merakit Mitokondria (Kloroplas jadi blacklist/dibuang)
#
# Cukup ganti satu kata ini, semua path dan seed akan otomatis menyesuaikan.
run_mode: "PLASTOME"

# -----------------------------------------------------------------------------
# [BAGIAN 2] DEFINISI PATH REFERENSI (WAREHOUSE)
# -----------------------------------------------------------------------------
# Bagian ini adalah "Gudang Data". Anda mendefinisikan di mana file disimpan.
# Script akan otomatis memilih file mana yang dipakai berdasarkan 'run_mode' di atas.
# JANGAN DIUBAH kecuali Anda mengubah struktur folder/nama file.

paths:
  # Konfigurasi untuk PLASTOME
  plastome:
    fasta: "resources/ref_specific_plastome.fasta"  # Hasil download NCBI (Fasta)
    gbk:   "resources/ref_specific_plastome.gb"     # Hasil download NCBI (GenBank)
    seed:  "embplant_pt.fasta"                      # Seed GetOrganelle (Tumbuhan Plastida)
    size:  "150k"                                   # Estimasi ukuran genom (bp)
  
  # Konfigurasi untuk MITOME
  mitome:
    fasta: "resources/ref_specific_mitome.fasta"
    gbk:   "resources/ref_specific_mitome.gb"
    seed:  "embplant_mt.fasta"                      # Seed GetOrganelle (Tumbuhan Mitokondria)
    size:  "400k"                                   # Estimasi ukuran genom (bp)

# -----------------------------------------------------------------------------
# [BAGIAN 3] PARAMETER PENCARIAN NCBI (FETCHER)
# -----------------------------------------------------------------------------
# Digunakan oleh script python untuk mendownload referensi yang tepat secara otomatis.

plastome_search:
  term: "Saccharum officinarum chloroplast complete genome"
  min: 120000 
  max: 180000

mito_search:
  term: "Saccharum officinarum mitochondrion complete genome"
  min: 250000 
  max: 600000

# -----------------------------------------------------------------------------
# [BAGIAN 4] PENGATURAN TOOLS LAINNYA
# -----------------------------------------------------------------------------

# Input File
concentrated_fastq: "resources/organelle_concentrated.fastq"

# GetOrganelle Database Path
seed_db_dir: "resources/SeedDatabase" 

# Polishing (Medaka)
# Pastikan model sesuai dengan flowcell/basecaller data Anda
medaka_model: "r10.4.1_e8.2_400bps_sup@v5.2.0"

# Rescue & Circularization (MitoHiFi)
run_circularization_rescue: "NO"  # Set YES jika ingin force rescue contig linear
loop_mitohifi: "flye, raven"      # Tool mana saja yang akan dicoba di-rescue
species_name: "Saccharum officinarum"

# Filtering & Recruitment (Minimap2)
recruitment:
  min_coverage: 20         
  max_coverage: 200        
  min_read_len: 1000       
  min_read_qual: 10