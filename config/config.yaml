# =============================================================================
# CONFIGURATION FILE FOR ORGANELLE ASSEMBLY PIPELINE
# Version: 2.0 (Smart Switch Mode)
# Author: Nauval Rajwaa
# =============================================================================

# -----------------------------------------------------------------------------
# [BAGIAN 1] PENGATURAN SISTEM & GLOBAL
# -----------------------------------------------------------------------------
threads: 48
email: "nauvalrajwaa@gmail.com"  # Wajib ada agar NCBI tidak memblokir IP saat download
samples_file: "config/samples.tsv" 

# =============================================================================
# [PENTING] MODE SAKLAR UTAMA (GLOBAL SWITCH)
# =============================================================================
# Ubah nilai di bawah ini untuk menentukan target assembly Anda.
# Pilihan: 
#   - "PLASTOME" : Merakit Kloroplas (Mitokondria jadi blacklist/dibuang)
#   - "MITOME"   : Merakit Mitokondria (Kloroplas jadi blacklist/dibuang)
#
# Cukup ganti satu kata ini, semua path dan seed akan otomatis menyesuaikan.
run_mode: "PLASTOME"

# -----------------------------------------------------------------------------
# [BAGIAN 2] DEFINISI PATH REFERENSI (WAREHOUSE)
# -----------------------------------------------------------------------------
# Bagian ini adalah "Gudang Data". Anda mendefinisikan di mana file disimpan.
# Script akan otomatis memilih file mana yang dipakai berdasarkan 'run_mode' di atas.
# JANGAN DIUBAH kecuali Anda mengubah struktur folder/nama file.

# --- 1. PROJECT IDENTITY ---
project:
  species_name: "Saccharum officinarum"  # <--- Cukup ganti ini untuk project baru
  
# --- 2. SETTINGS & SWITCHES ---
settings:
  use_expanded_search: False 

  # Parameter Filter (Angka tetap disimpan di sini)
  filter_params:
    p_min: 100000
    p_max: 200000
    m_min: 200000
    m_max: 600000

# --- 3. STORAGE PATHS ---
paths:
  plastome:
    specific:
      fasta: "resources/ref_specific_plastome.fasta"
      gbk:   "resources/ref_specific_plastome.gb"
    expanded:
      fasta: "resources/ref_expanded_plastome.fasta"
      gbk:   "resources/ref_expanded_plastome.gb"

  mitome:
    specific:
      fasta: "resources/ref_specific_mitome.fasta"
      gbk:   "resources/ref_specific_mitome.gb"
    expanded:
      fasta: "resources/ref_expanded_mitome.fasta"
      gbk:   "resources/ref_expanded_mitome.gb"

# -----------------------------------------------------------------------------
# [BAGIAN 4] PENGATURAN TOOLS LAINNYA
# -----------------------------------------------------------------------------

# Input File
concentrated_fastq: "resources/organelle_concentrated.fastq"

# GetOrganelle Database Path
seed_db_dir: "resources/SeedDatabase" 

label_db_dir: "resources/LabelDatabase"

# Polishing (Medaka)
# Pastikan model sesuai dengan flowcell/basecaller data Anda
medaka_model: "r10.4.1_e8.2_400bps_sup@v5.2.0"

# Rescue & Circularization (MitoHiFi)
run_circularization_rescue: "NO"  # Set YES jika ingin force rescue contig linear
loop_mitohifi: "flye, raven"      # Tool mana saja yang akan dicoba di-rescue
species_name: "Saccharum officinarum"

# Filtering & Recruitment (Minimap2)
recruitment:
  min_coverage: 20         
  max_coverage: 200        
  min_read_len: 1000       
  min_read_qual: 10